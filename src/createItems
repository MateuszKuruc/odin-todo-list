


export let projectList = [];
export let generalTaskList = [];
export let currentProjectId = null;

// console.log(projectList);
// console.log(generalTaskList);

// const item = new Project('pati');

// const task1 = new Task('zrob pranko', 'najlepiej w rzece');
// // console.log(task1);
// console.log(projectList);
// console.log(generalTaskList);



export class Project {
    constructor(name) {
        this.id = generateId();
        this.name = name;
        this.taskList = [];
        projectList.push(this);
    }

    // addProject() {
    //     projectList.push(this);
    // }

    removeProject(projectList) {
        currentProjectId = this.id;
        const index = projectList.findIndex(project => project.id === currentProjectId);
        if (index !== -1) {
            projectList.splice(index, 1);
            console.log(projectList);
        }
    }

    addTask(task) {
        this.taskList.push(task);
    }

    
}




export class Task {
    constructor(title, description) {
        this.id = generateId();
        this.title = title;
        this.description = description;
        generalTaskList.push(this);
    }

    removeTask(taskId) {
        const taskIndex = taskList.findIndex((task) => task.id === taskId);
        console.log("usuwamy?");
        if (taskIndex !== -1) {
          taskList.splice(taskIndex, 1);
          loadAllTasks(); // Update the UI to reflect the changes
        }
      }

}




function generateId() {
    return Date.now().toString();
  }


//   export function createProject() {
//     const inputProject = document.querySelector(".inputProject");
//     const addProject = document.querySelector(".addProject");
  
//     addProject.addEventListener("click", () => {
//       if (inputProject.value != "" && inputProject.value.length != 0) {
//         const newProject = new Project(inputProject.value);
//         projectList.push(newProject);
//         console.log(newProject);
//         console.log(projectList);
//         displayProjects();
//         inputProject.value = "";
  
//         // currentProjectId = newProject.id;
//         // console.log(currentProjectId);
  
//         newProject.taskList.push('pranie', 'koszulki i skarpety')
//         console.log(newProject.taskList);
  
//         return newProject;
//       }
//     });
//   }

//   function displayProjects() {
//     const projectsContainer = document.querySelector(".projectsContainer");
//     projectsContainer.innerHTML = "";
  
//     projectList.forEach((project) => {
//       const projectElement = document.createElement("div");
//       projectElement.classList.add("project");
  
//       const projectName = document.createElement("button");
//       projectName.classList.add('projectName');
//       projectName.innerHTML = project.name;
  
//       projectName.addEventListener('click', loadProjectTasks);
  
//       projectElement.appendChild(projectName);
//       projectsContainer.appendChild(projectElement);
//     });
//   }
  